{"ast":null,"code":"\"use strict\";\n\nvar {\n  Command\n} = require(\"../command\");\n\nvar clc = require(\"cli-color\");\n\nvar utils = require(\"../utils\");\n\nconst {\n  logger\n} = require(\"../logger\");\n\nvar auth = require(\"../auth\");\n\nmodule.exports = new Command(\"login:ci\").description(\"generate an access token for use in non-interactive environments\").option(\"--no-localhost\", \"copy and paste a code instead of starting a local server for authentication\").action(async options => {\n  if (options.nonInteractive) {\n    return utils.reject(\"Cannot run login:ci in non-interactive mode.\", {\n      exit: 1\n    });\n  }\n\n  const userCredentials = await auth.loginGoogle(options.localhost);\n  logger.info();\n  utils.logSuccess(\"Success! Use this token to login on a CI server:\\n\\n\" + clc.bold(userCredentials.tokens.refresh_token) + '\\n\\nExample: firebase deploy --token \"$FIREBASE_TOKEN\"\\n');\n  return userCredentials;\n});","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/commands/login-ci.js"],"names":["Command","require","clc","utils","logger","auth","module","exports","description","option","action","options","nonInteractive","reject","exit","userCredentials","loginGoogle","localhost","info","logSuccess","bold","tokens","refresh_token"],"mappings":"AAAA;;AACA,IAAI;AAAEA,EAAAA;AAAF,IAAcC,OAAO,CAAC,YAAD,CAAzB;;AACA,IAAIC,GAAG,GAAGD,OAAO,CAAC,WAAD,CAAjB;;AACA,IAAIE,KAAK,GAAGF,OAAO,CAAC,UAAD,CAAnB;;AACA,MAAM;AAAEG,EAAAA;AAAF,IAAaH,OAAO,CAAC,WAAD,CAA1B;;AACA,IAAII,IAAI,GAAGJ,OAAO,CAAC,SAAD,CAAlB;;AACAK,MAAM,CAACC,OAAP,GAAiB,IAAIP,OAAJ,CAAY,UAAZ,EACZQ,WADY,CACA,kEADA,EAEZC,MAFY,CAEL,gBAFK,EAEa,6EAFb,EAGZC,MAHY,CAGL,MAAOC,OAAP,IAAmB;AAC3B,MAAIA,OAAO,CAACC,cAAZ,EAA4B;AACxB,WAAOT,KAAK,CAACU,MAAN,CAAa,8CAAb,EAA6D;AAChEC,MAAAA,IAAI,EAAE;AAD0D,KAA7D,CAAP;AAGH;;AACD,QAAMC,eAAe,GAAG,MAAMV,IAAI,CAACW,WAAL,CAAiBL,OAAO,CAACM,SAAzB,CAA9B;AACAb,EAAAA,MAAM,CAACc,IAAP;AACAf,EAAAA,KAAK,CAACgB,UAAN,CAAiB,yDACbjB,GAAG,CAACkB,IAAJ,CAASL,eAAe,CAACM,MAAhB,CAAuBC,aAAhC,CADa,GAEb,0DAFJ;AAGA,SAAOP,eAAP;AACH,CAfgB,CAAjB","sourcesContent":["\"use strict\";\nvar { Command } = require(\"../command\");\nvar clc = require(\"cli-color\");\nvar utils = require(\"../utils\");\nconst { logger } = require(\"../logger\");\nvar auth = require(\"../auth\");\nmodule.exports = new Command(\"login:ci\")\n    .description(\"generate an access token for use in non-interactive environments\")\n    .option(\"--no-localhost\", \"copy and paste a code instead of starting a local server for authentication\")\n    .action(async (options) => {\n    if (options.nonInteractive) {\n        return utils.reject(\"Cannot run login:ci in non-interactive mode.\", {\n            exit: 1,\n        });\n    }\n    const userCredentials = await auth.loginGoogle(options.localhost);\n    logger.info();\n    utils.logSuccess(\"Success! Use this token to login on a CI server:\\n\\n\" +\n        clc.bold(userCredentials.tokens.refresh_token) +\n        '\\n\\nExample: firebase deploy --token \"$FIREBASE_TOKEN\"\\n');\n    return userCredentials;\n});\n"]},"metadata":{},"sourceType":"script"}