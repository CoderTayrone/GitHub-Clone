{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listDatabaseInstances = void 0;\n\nconst api = require(\"../api\");\n\nconst logger_1 = require(\"../logger\");\n\nconst utils = require(\"../utils\");\n\nfunction _handleErrorResponse(response) {\n  if (response.body && response.body.error) {\n    return utils.reject(response.body.error, {\n      code: 2\n    });\n  }\n\n  logger_1.logger.debug(\"[firedata] error:\", response.status, response.body);\n  return utils.reject(\"Unexpected error encountered with FireData.\", {\n    code: 2\n  });\n}\n\nasync function listDatabaseInstances(projectNumber) {\n  const response = await api.request(\"GET\", `/v1/projects/${projectNumber}/databases`, {\n    auth: true,\n    origin: api.firedataOrigin\n  });\n\n  if (response.status === 200) {\n    return response.body.instance;\n  }\n\n  return _handleErrorResponse(response);\n}\n\nexports.listDatabaseInstances = listDatabaseInstances;","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/gcp/firedata.js"],"names":["Object","defineProperty","exports","value","listDatabaseInstances","api","require","logger_1","utils","_handleErrorResponse","response","body","error","reject","code","logger","debug","status","projectNumber","request","auth","origin","firedataOrigin","instance"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,qBAAR,GAAgC,KAAK,CAArC;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAnB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,UAAD,CAArB;;AACA,SAASG,oBAAT,CAA8BC,QAA9B,EAAwC;AACpC,MAAIA,QAAQ,CAACC,IAAT,IAAiBD,QAAQ,CAACC,IAAT,CAAcC,KAAnC,EAA0C;AACtC,WAAOJ,KAAK,CAACK,MAAN,CAAaH,QAAQ,CAACC,IAAT,CAAcC,KAA3B,EAAkC;AAAEE,MAAAA,IAAI,EAAE;AAAR,KAAlC,CAAP;AACH;;AACDP,EAAAA,QAAQ,CAACQ,MAAT,CAAgBC,KAAhB,CAAsB,mBAAtB,EAA2CN,QAAQ,CAACO,MAApD,EAA4DP,QAAQ,CAACC,IAArE;AACA,SAAOH,KAAK,CAACK,MAAN,CAAa,6CAAb,EAA4D;AAC/DC,IAAAA,IAAI,EAAE;AADyD,GAA5D,CAAP;AAGH;;AACD,eAAeV,qBAAf,CAAqCc,aAArC,EAAoD;AAChD,QAAMR,QAAQ,GAAG,MAAML,GAAG,CAACc,OAAJ,CAAY,KAAZ,EAAoB,gBAAeD,aAAc,YAAjD,EAA8D;AACjFE,IAAAA,IAAI,EAAE,IAD2E;AAEjFC,IAAAA,MAAM,EAAEhB,GAAG,CAACiB;AAFqE,GAA9D,CAAvB;;AAIA,MAAIZ,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6B;AACzB,WAAOP,QAAQ,CAACC,IAAT,CAAcY,QAArB;AACH;;AACD,SAAOd,oBAAoB,CAACC,QAAD,CAA3B;AACH;;AACDR,OAAO,CAACE,qBAAR,GAAgCA,qBAAhC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.listDatabaseInstances = void 0;\nconst api = require(\"../api\");\nconst logger_1 = require(\"../logger\");\nconst utils = require(\"../utils\");\nfunction _handleErrorResponse(response) {\n    if (response.body && response.body.error) {\n        return utils.reject(response.body.error, { code: 2 });\n    }\n    logger_1.logger.debug(\"[firedata] error:\", response.status, response.body);\n    return utils.reject(\"Unexpected error encountered with FireData.\", {\n        code: 2,\n    });\n}\nasync function listDatabaseInstances(projectNumber) {\n    const response = await api.request(\"GET\", `/v1/projects/${projectNumber}/databases`, {\n        auth: true,\n        origin: api.firedataOrigin,\n    });\n    if (response.status === 200) {\n        return response.body.instance;\n    }\n    return _handleErrorResponse(response);\n}\nexports.listDatabaseInstances = listDatabaseInstances;\n"]},"metadata":{},"sourceType":"script"}