{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getErrorMessage = exports.getValidator = void 0;\n\nconst fs = require(\"fs\");\n\nconst path = require(\"path\");\n\nconst Ajv = require(\"ajv\");\n\nconst ajv = new Ajv();\nlet _VALIDATOR = undefined;\n\nfunction getValidator() {\n  if (!_VALIDATOR) {\n    const schemaStr = fs.readFileSync(path.resolve(__dirname, \"../schema/firebase-config.json\"), \"UTF-8\");\n    const schema = JSON.parse(schemaStr);\n    _VALIDATOR = ajv.compile(schema);\n  }\n\n  return _VALIDATOR;\n}\n\nexports.getValidator = getValidator;\n\nfunction getErrorMessage(e) {\n  if (e.keyword === \"additionalProperties\") {\n    return `Object \"${e.dataPath}\" in \"firebase.json\" has unknown property: ${JSON.stringify(e.params)}`;\n  } else if (e.keyword === \"required\") {\n    return `Object \"${e.dataPath}\" in \"firebase.json\" is missing required property: ${JSON.stringify(e.params)}`;\n  } else {\n    return `Field \"${e.dataPath}\" in \"firebase.json\" is possibly invalid: ${e.message}`;\n  }\n}\n\nexports.getErrorMessage = getErrorMessage;","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/firebaseConfigValidate.js"],"names":["Object","defineProperty","exports","value","getErrorMessage","getValidator","fs","require","path","Ajv","ajv","_VALIDATOR","undefined","schemaStr","readFileSync","resolve","__dirname","schema","JSON","parse","compile","e","keyword","dataPath","stringify","params","message"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0BF,OAAO,CAACG,YAAR,GAAuB,KAAK,CAAtD;;AACA,MAAMC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,GAAG,GAAGF,OAAO,CAAC,KAAD,CAAnB;;AACA,MAAMG,GAAG,GAAG,IAAID,GAAJ,EAAZ;AACA,IAAIE,UAAU,GAAGC,SAAjB;;AACA,SAASP,YAAT,GAAwB;AACpB,MAAI,CAACM,UAAL,EAAiB;AACb,UAAME,SAAS,GAAGP,EAAE,CAACQ,YAAH,CAAgBN,IAAI,CAACO,OAAL,CAAaC,SAAb,EAAwB,gCAAxB,CAAhB,EAA2E,OAA3E,CAAlB;AACA,UAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWN,SAAX,CAAf;AACAF,IAAAA,UAAU,GAAGD,GAAG,CAACU,OAAJ,CAAYH,MAAZ,CAAb;AACH;;AACD,SAAON,UAAP;AACH;;AACDT,OAAO,CAACG,YAAR,GAAuBA,YAAvB;;AACA,SAASD,eAAT,CAAyBiB,CAAzB,EAA4B;AACxB,MAAIA,CAAC,CAACC,OAAF,KAAc,sBAAlB,EAA0C;AACtC,WAAQ,WAAUD,CAAC,CAACE,QAAS,8CAA6CL,IAAI,CAACM,SAAL,CAAeH,CAAC,CAACI,MAAjB,CAAyB,EAAnG;AACH,GAFD,MAGK,IAAIJ,CAAC,CAACC,OAAF,KAAc,UAAlB,EAA8B;AAC/B,WAAQ,WAAUD,CAAC,CAACE,QAAS,sDAAqDL,IAAI,CAACM,SAAL,CAAeH,CAAC,CAACI,MAAjB,CAAyB,EAA3G;AACH,GAFI,MAGA;AACD,WAAQ,UAASJ,CAAC,CAACE,QAAS,6CAA4CF,CAAC,CAACK,OAAQ,EAAlF;AACH;AACJ;;AACDxB,OAAO,CAACE,eAAR,GAA0BA,eAA1B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorMessage = exports.getValidator = void 0;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Ajv = require(\"ajv\");\nconst ajv = new Ajv();\nlet _VALIDATOR = undefined;\nfunction getValidator() {\n    if (!_VALIDATOR) {\n        const schemaStr = fs.readFileSync(path.resolve(__dirname, \"../schema/firebase-config.json\"), \"UTF-8\");\n        const schema = JSON.parse(schemaStr);\n        _VALIDATOR = ajv.compile(schema);\n    }\n    return _VALIDATOR;\n}\nexports.getValidator = getValidator;\nfunction getErrorMessage(e) {\n    if (e.keyword === \"additionalProperties\") {\n        return `Object \"${e.dataPath}\" in \"firebase.json\" has unknown property: ${JSON.stringify(e.params)}`;\n    }\n    else if (e.keyword === \"required\") {\n        return `Object \"${e.dataPath}\" in \"firebase.json\" is missing required property: ${JSON.stringify(e.params)}`;\n    }\n    else {\n        return `Field \"${e.dataPath}\" in \"firebase.json\" is possibly invalid: ${e.message}`;\n    }\n}\nexports.getErrorMessage = getErrorMessage;\n"]},"metadata":{},"sourceType":"script"}