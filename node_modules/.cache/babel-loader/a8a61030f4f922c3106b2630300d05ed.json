{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.promptOnce = exports.prompt = void 0;\n\nconst inquirer = require(\"inquirer\");\n\nconst _ = require(\"lodash\");\n\nconst error_1 = require(\"./error\");\n\nasync function prompt(options, questions) {\n  const prompts = [];\n\n  for (const question of questions) {\n    if (question.name && options[question.name] === undefined) {\n      prompts.push(question);\n    }\n  }\n\n  if (prompts.length && options.nonInteractive) {\n    const missingOptions = _.uniq(_.map(prompts, \"name\")).join(\", \");\n\n    throw new error_1.FirebaseError(`Missing required options (${missingOptions}) while running in non-interactive mode`, {\n      children: prompts,\n      exit: 1\n    });\n  }\n\n  const answers = await inquirer.prompt(prompts);\n  Object.keys(answers).forEach(k => {\n    options[k] = answers[k];\n  });\n  return answers;\n}\n\nexports.prompt = prompt;\n\nasync function promptOnce(question, options = {}) {\n  question.name = question.name || \"question\";\n  await prompt(options, [question]);\n  return options[question.name];\n}\n\nexports.promptOnce = promptOnce;","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/prompt.js"],"names":["Object","defineProperty","exports","value","promptOnce","prompt","inquirer","require","_","error_1","options","questions","prompts","question","name","undefined","push","length","nonInteractive","missingOptions","uniq","map","join","FirebaseError","children","exit","answers","keys","forEach","k"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqBF,OAAO,CAACG,MAAR,GAAiB,KAAK,CAA3C;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,CAAC,GAAGD,OAAO,CAAC,QAAD,CAAjB;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,SAAD,CAAvB;;AACA,eAAeF,MAAf,CAAsBK,OAAtB,EAA+BC,SAA/B,EAA0C;AACtC,QAAMC,OAAO,GAAG,EAAhB;;AACA,OAAK,MAAMC,QAAX,IAAuBF,SAAvB,EAAkC;AAC9B,QAAIE,QAAQ,CAACC,IAAT,IAAiBJ,OAAO,CAACG,QAAQ,CAACC,IAAV,CAAP,KAA2BC,SAAhD,EAA2D;AACvDH,MAAAA,OAAO,CAACI,IAAR,CAAaH,QAAb;AACH;AACJ;;AACD,MAAID,OAAO,CAACK,MAAR,IAAkBP,OAAO,CAACQ,cAA9B,EAA8C;AAC1C,UAAMC,cAAc,GAAGX,CAAC,CAACY,IAAF,CAAOZ,CAAC,CAACa,GAAF,CAAMT,OAAN,EAAe,MAAf,CAAP,EAA+BU,IAA/B,CAAoC,IAApC,CAAvB;;AACA,UAAM,IAAIb,OAAO,CAACc,aAAZ,CAA2B,6BAA4BJ,cAAe,yCAAtE,EAAgH;AAClHK,MAAAA,QAAQ,EAAEZ,OADwG;AAElHa,MAAAA,IAAI,EAAE;AAF4G,KAAhH,CAAN;AAIH;;AACD,QAAMC,OAAO,GAAG,MAAMpB,QAAQ,CAACD,MAAT,CAAgBO,OAAhB,CAAtB;AACAZ,EAAAA,MAAM,CAAC2B,IAAP,CAAYD,OAAZ,EAAqBE,OAArB,CAA8BC,CAAD,IAAO;AAChCnB,IAAAA,OAAO,CAACmB,CAAD,CAAP,GAAaH,OAAO,CAACG,CAAD,CAApB;AACH,GAFD;AAGA,SAAOH,OAAP;AACH;;AACDxB,OAAO,CAACG,MAAR,GAAiBA,MAAjB;;AACA,eAAeD,UAAf,CAA0BS,QAA1B,EAAoCH,OAAO,GAAG,EAA9C,EAAkD;AAC9CG,EAAAA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACC,IAAT,IAAiB,UAAjC;AACA,QAAMT,MAAM,CAACK,OAAD,EAAU,CAACG,QAAD,CAAV,CAAZ;AACA,SAAOH,OAAO,CAACG,QAAQ,CAACC,IAAV,CAAd;AACH;;AACDZ,OAAO,CAACE,UAAR,GAAqBA,UAArB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.promptOnce = exports.prompt = void 0;\nconst inquirer = require(\"inquirer\");\nconst _ = require(\"lodash\");\nconst error_1 = require(\"./error\");\nasync function prompt(options, questions) {\n    const prompts = [];\n    for (const question of questions) {\n        if (question.name && options[question.name] === undefined) {\n            prompts.push(question);\n        }\n    }\n    if (prompts.length && options.nonInteractive) {\n        const missingOptions = _.uniq(_.map(prompts, \"name\")).join(\", \");\n        throw new error_1.FirebaseError(`Missing required options (${missingOptions}) while running in non-interactive mode`, {\n            children: prompts,\n            exit: 1,\n        });\n    }\n    const answers = await inquirer.prompt(prompts);\n    Object.keys(answers).forEach((k) => {\n        options[k] = answers[k];\n    });\n    return answers;\n}\nexports.prompt = prompt;\nasync function promptOnce(question, options = {}) {\n    question.name = question.name || \"question\";\n    await prompt(options, [question]);\n    return options[question.name];\n}\nexports.promptOnce = promptOnce;\n"]},"metadata":{},"sourceType":"script"}