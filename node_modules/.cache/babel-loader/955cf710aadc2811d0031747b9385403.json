{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculateChannelExpireTTL = exports.DEFAULT_DURATION = exports.MAX_DURATION = exports.Duration = exports.DURATION_REGEX = void 0;\n\nconst error_1 = require(\"../error\");\n\nexports.DURATION_REGEX = /^(\\d+)([hdm])$/;\nvar Duration;\n\n(function (Duration) {\n  Duration[Duration[\"MINUTE\"] = 60000] = \"MINUTE\";\n  Duration[Duration[\"HOUR\"] = 3600000] = \"HOUR\";\n  Duration[Duration[\"DAY\"] = 86400000] = \"DAY\";\n})(Duration = exports.Duration || (exports.Duration = {}));\n\nconst DURATIONS = {\n  m: Duration.MINUTE,\n  h: Duration.HOUR,\n  d: Duration.DAY\n};\nexports.MAX_DURATION = 30 * Duration.DAY;\nexports.DEFAULT_DURATION = 7 * Duration.DAY;\n\nfunction calculateChannelExpireTTL(flag) {\n  const match = exports.DURATION_REGEX.exec(flag || \"\");\n\n  if (!match) {\n    throw new error_1.FirebaseError(`\"expires\" flag must be a duration string (e.g. 24h or 7d) at most 30d`);\n  }\n\n  const d = parseInt(match[1], 10) * DURATIONS[match[2]];\n\n  if (isNaN(d)) {\n    throw new error_1.FirebaseError(`Failed to parse provided expire time \"${flag}\"`);\n  }\n\n  if (d > exports.MAX_DURATION) {\n    throw new error_1.FirebaseError(`\"expires\" flag may not be longer than 30d`);\n  }\n\n  return d;\n}\n\nexports.calculateChannelExpireTTL = calculateChannelExpireTTL;","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/hosting/expireUtils.js"],"names":["Object","defineProperty","exports","value","calculateChannelExpireTTL","DEFAULT_DURATION","MAX_DURATION","Duration","DURATION_REGEX","error_1","require","DURATIONS","m","MINUTE","h","HOUR","d","DAY","flag","match","exec","FirebaseError","parseInt","isNaN"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,yBAAR,GAAoCF,OAAO,CAACG,gBAAR,GAA2BH,OAAO,CAACI,YAAR,GAAuBJ,OAAO,CAACK,QAAR,GAAmBL,OAAO,CAACM,cAAR,GAAyB,KAAK,CAAvI;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACAR,OAAO,CAACM,cAAR,GAAyB,gBAAzB;AACA,IAAID,QAAJ;;AACA,CAAC,UAAUA,QAAV,EAAoB;AACjBA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,QAAD,CAAR,GAAqB,KAAtB,CAAR,GAAuC,QAAvC;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,MAAD,CAAR,GAAmB,OAApB,CAAR,GAAuC,MAAvC;AACAA,EAAAA,QAAQ,CAACA,QAAQ,CAAC,KAAD,CAAR,GAAkB,QAAnB,CAAR,GAAuC,KAAvC;AACH,CAJD,EAIGA,QAAQ,GAAGL,OAAO,CAACK,QAAR,KAAqBL,OAAO,CAACK,QAAR,GAAmB,EAAxC,CAJd;;AAKA,MAAMI,SAAS,GAAG;AACdC,EAAAA,CAAC,EAAEL,QAAQ,CAACM,MADE;AAEdC,EAAAA,CAAC,EAAEP,QAAQ,CAACQ,IAFE;AAGdC,EAAAA,CAAC,EAAET,QAAQ,CAACU;AAHE,CAAlB;AAKAf,OAAO,CAACI,YAAR,GAAuB,KAAKC,QAAQ,CAACU,GAArC;AACAf,OAAO,CAACG,gBAAR,GAA2B,IAAIE,QAAQ,CAACU,GAAxC;;AACA,SAASb,yBAAT,CAAmCc,IAAnC,EAAyC;AACrC,QAAMC,KAAK,GAAGjB,OAAO,CAACM,cAAR,CAAuBY,IAAvB,CAA4BF,IAAI,IAAI,EAApC,CAAd;;AACA,MAAI,CAACC,KAAL,EAAY;AACR,UAAM,IAAIV,OAAO,CAACY,aAAZ,CAA2B,uEAA3B,CAAN;AACH;;AACD,QAAML,CAAC,GAAGM,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAAR,GAAyBR,SAAS,CAACQ,KAAK,CAAC,CAAD,CAAN,CAA5C;;AACA,MAAII,KAAK,CAACP,CAAD,CAAT,EAAc;AACV,UAAM,IAAIP,OAAO,CAACY,aAAZ,CAA2B,yCAAwCH,IAAK,GAAxE,CAAN;AACH;;AACD,MAAIF,CAAC,GAAGd,OAAO,CAACI,YAAhB,EAA8B;AAC1B,UAAM,IAAIG,OAAO,CAACY,aAAZ,CAA2B,2CAA3B,CAAN;AACH;;AACD,SAAOL,CAAP;AACH;;AACDd,OAAO,CAACE,yBAAR,GAAoCA,yBAApC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateChannelExpireTTL = exports.DEFAULT_DURATION = exports.MAX_DURATION = exports.Duration = exports.DURATION_REGEX = void 0;\nconst error_1 = require(\"../error\");\nexports.DURATION_REGEX = /^(\\d+)([hdm])$/;\nvar Duration;\n(function (Duration) {\n    Duration[Duration[\"MINUTE\"] = 60000] = \"MINUTE\";\n    Duration[Duration[\"HOUR\"] = 3600000] = \"HOUR\";\n    Duration[Duration[\"DAY\"] = 86400000] = \"DAY\";\n})(Duration = exports.Duration || (exports.Duration = {}));\nconst DURATIONS = {\n    m: Duration.MINUTE,\n    h: Duration.HOUR,\n    d: Duration.DAY,\n};\nexports.MAX_DURATION = 30 * Duration.DAY;\nexports.DEFAULT_DURATION = 7 * Duration.DAY;\nfunction calculateChannelExpireTTL(flag) {\n    const match = exports.DURATION_REGEX.exec(flag || \"\");\n    if (!match) {\n        throw new error_1.FirebaseError(`\"expires\" flag must be a duration string (e.g. 24h or 7d) at most 30d`);\n    }\n    const d = parseInt(match[1], 10) * DURATIONS[match[2]];\n    if (isNaN(d)) {\n        throw new error_1.FirebaseError(`Failed to parse provided expire time \"${flag}\"`);\n    }\n    if (d > exports.MAX_DURATION) {\n        throw new error_1.FirebaseError(`\"expires\" flag may not be longer than 30d`);\n    }\n    return d;\n}\nexports.calculateChannelExpireTTL = calculateChannelExpireTTL;\n"]},"metadata":{},"sourceType":"script"}