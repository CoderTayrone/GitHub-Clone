{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst Response_1 = __importDefault(require(\"./Response\"));\n\nclass Responses {\n  constructor(context, responses) {\n    this.context = context;\n    this._location = {\n      in: 'response',\n      name: 'body',\n      docPath: this.context.jsonPointer\n    };\n    this._responses = {};\n\n    for (const statusCode of Object.keys(responses)) {\n      const response = context.resolveRef(responses[statusCode]);\n      this._responses[statusCode] = new Response_1.default(context.childContext(statusCode), response);\n    }\n  }\n\n  validateResponse(statusCode, headers, body, validateDefaultResponses) {\n    const responseObject = this._responses[statusCode] || this._responses.default;\n\n    if (!responseObject) {\n      return {\n        errors: [{\n          location: this._location,\n          message: `No response defined for status code ${statusCode}.`\n        }],\n        isDefault: false\n      };\n    } else {\n      const isDefault = !this._responses[statusCode];\n\n      if (isDefault && !validateDefaultResponses) {\n        return {\n          errors: null,\n          isDefault\n        };\n      } else {\n        return {\n          errors: responseObject.validateResponse(statusCode, headers, body),\n          isDefault\n        };\n      }\n    }\n  }\n\n}\n\nexports.default = Responses;","map":{"version":3,"sources":["../../src/oas3/Responses.ts"],"names":[],"mappings":";;;;;;;;;;;;AAEA,MAAA,UAAA,GAAA,eAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AAGA,MAAqB,SAArB,CAA8B;AAK1B,EAAA,WAAA,CAAY,OAAZ,EAAyC,SAAzC,EAAwE;AACpE,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,SAAL,GAAiB;AACb,MAAA,EAAE,EAAE,UADS;AAEb,MAAA,IAAI,EAAE,MAFO;AAGb,MAAA,OAAO,EAAE,KAAK,OAAL,CAAa;AAHT,KAAjB;AAMA,SAAK,UAAL,GAAkB,EAAlB;;AACA,SAAK,MAAM,UAAX,IAAyB,MAAM,CAAC,IAAP,CAAY,SAAZ,CAAzB,EAAiD;AAC7C,YAAM,QAAQ,GAAwB,OAAO,CAAC,UAAR,CAAmB,SAAS,CAAC,UAAD,CAA5B,CAAtC;AACA,WAAK,UAAL,CAAgB,UAAhB,IAA8B,IAAI,UAAA,CAAA,OAAJ,CAAa,OAAO,CAAC,YAAR,CAAqB,UAArB,CAAb,EAA+C,QAA/C,CAA9B;AACH;AACJ;;AAED,EAAA,gBAAgB,CACZ,UADY,EAEZ,OAFY,EAGZ,IAHY,EAIZ,wBAJY,EAIqB;AAEjC,UAAM,cAAc,GAAG,KAAK,UAAL,CAAgB,UAAhB,KAA+B,KAAK,UAAL,CAAgB,OAAtE;;AACA,QAAI,CAAC,cAAL,EAAqB;AACjB,aAAO;AACH,QAAA,MAAM,EAAE,CACJ;AACI,UAAA,QAAQ,EAAE,KAAK,SADnB;AAEI,UAAA,OAAO,EAAE,uCAAuC,UAAU;AAF9D,SADI,CADL;AAOH,QAAA,SAAS,EAAE;AAPR,OAAP;AASH,KAVD,MAUO;AACH,YAAM,SAAS,GAAG,CAAC,KAAK,UAAL,CAAgB,UAAhB,CAAnB;;AACA,UAAI,SAAS,IAAI,CAAC,wBAAlB,EAA4C;AACxC,eAAO;AAAE,UAAA,MAAM,EAAE,IAAV;AAAgB,UAAA;AAAhB,SAAP;AACH,OAFD,MAEO;AACH,eAAO;AACH,UAAA,MAAM,EAAE,cAAc,CAAC,gBAAf,CAAgC,UAAhC,EAA4C,OAA5C,EAAqD,IAArD,CADL;AAEH,UAAA;AAFG,SAAP;AAIH;AACJ;AACJ;;AAhDyB;;AAA9B,OAAA,CAAA,OAAA,GAAA,SAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Response_1 = __importDefault(require(\"./Response\"));\nclass Responses {\n    constructor(context, responses) {\n        this.context = context;\n        this._location = {\n            in: 'response',\n            name: 'body',\n            docPath: this.context.jsonPointer,\n        };\n        this._responses = {};\n        for (const statusCode of Object.keys(responses)) {\n            const response = context.resolveRef(responses[statusCode]);\n            this._responses[statusCode] = new Response_1.default(context.childContext(statusCode), response);\n        }\n    }\n    validateResponse(statusCode, headers, body, validateDefaultResponses) {\n        const responseObject = this._responses[statusCode] || this._responses.default;\n        if (!responseObject) {\n            return {\n                errors: [\n                    {\n                        location: this._location,\n                        message: `No response defined for status code ${statusCode}.`,\n                    },\n                ],\n                isDefault: false,\n            };\n        }\n        else {\n            const isDefault = !this._responses[statusCode];\n            if (isDefault && !validateDefaultResponses) {\n                return { errors: null, isDefault };\n            }\n            else {\n                return {\n                    errors: responseObject.validateResponse(statusCode, headers, body),\n                    isDefault,\n                };\n            }\n        }\n    }\n}\nexports.default = Responses;\n//# sourceMappingURL=Responses.js.map"]},"metadata":{},"sourceType":"script"}