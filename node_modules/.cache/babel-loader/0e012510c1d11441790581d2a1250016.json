{"ast":null,"code":"'use strict';\n\nvar redeyed = require('redeyed');\n\nvar theme = require('../themes/default');\n\nvar colors = require('ansicolors');\n\nvar colorSurround = colors.brightBlack;\nvar surroundClose = '\\u001b[39m';\n\nfunction trimEmptyLines(lines) {\n  // remove lines from the end until we find a non-empy one\n  var line = lines.pop();\n\n  while (!line || !line.length) {\n    line = lines.pop();\n  } // put the non-empty line back\n\n\n  if (line) lines.push(line);\n}\n\nfunction addLinenos(highlightedCode, firstline) {\n  var highlightedLines = highlightedCode.split('\\n');\n  trimEmptyLines(highlightedLines);\n  var linesLen = highlightedLines.length;\n  var lines = [];\n  var totalDigits;\n  var lineno;\n\n  function getDigits(n) {\n    if (n < 10) return 1;\n    if (n < 100) return 2;\n    if (n < 1000) return 3;\n    if (n < 10000) return 4; // this works for up to 99,999 lines - any questions?\n\n    return 5;\n  }\n\n  function pad(n, totalDigits) {\n    // not pretty, but simple and should perform quite well\n    var padDigits = totalDigits - getDigits(n);\n\n    switch (padDigits) {\n      case 0:\n        return '' + n;\n\n      case 1:\n        return ' ' + n;\n\n      case 2:\n        return '  ' + n;\n\n      case 3:\n        return '   ' + n;\n\n      case 4:\n        return '    ' + n;\n\n      case 5:\n        return '     ' + n;\n    }\n  }\n\n  totalDigits = getDigits(linesLen + firstline - 1);\n\n  for (var i = 0; i < linesLen; i++) {\n    // Don't close the escape sequence here in order to not break multi line code highlights like block comments\n    lineno = colorSurround(pad(i + firstline, totalDigits) + ': ').replace(surroundClose, '');\n    lines.push(lineno + highlightedLines[i]);\n  }\n\n  return lines.join('\\n');\n}\n\nmodule.exports = function highlight(code, opts) {\n  opts = opts || {};\n\n  try {\n    var result = redeyed(code, opts.theme || theme, {\n      jsx: !!opts.jsx\n    });\n    var firstline = opts.firstline && !isNaN(opts.firstline) ? opts.firstline : 1;\n    return opts.linenos ? addLinenos(result.code, firstline) : result.code;\n  } catch (e) {\n    e.message = 'Unable to perform highlight. The code contained syntax errors: ' + e.message;\n    throw e;\n  }\n};","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/cardinal/lib/highlight.js"],"names":["redeyed","require","theme","colors","colorSurround","brightBlack","surroundClose","trimEmptyLines","lines","line","pop","length","push","addLinenos","highlightedCode","firstline","highlightedLines","split","linesLen","totalDigits","lineno","getDigits","n","pad","padDigits","i","replace","join","module","exports","highlight","code","opts","result","jsx","isNaN","linenos","e","message"],"mappings":"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","sourcesContent":["'use strict'\n\nvar redeyed =  require('redeyed')\nvar theme   =  require('../themes/default')\nvar colors  =  require('ansicolors')\n\nvar colorSurround =  colors.brightBlack\nvar surroundClose =  '\\u001b[39m'\n\nfunction trimEmptyLines(lines) {\n  // remove lines from the end until we find a non-empy one\n  var line = lines.pop()\n  while (!line || !line.length)    {\n line = lines.pop()\n}\n\n  // put the non-empty line back\n  if (line) lines.push(line)\n}\n\nfunction addLinenos(highlightedCode, firstline) {\n  var highlightedLines = highlightedCode.split('\\n')\n\n  trimEmptyLines(highlightedLines)\n\n  var linesLen = highlightedLines.length\n  var lines = []\n  var totalDigits\n  var lineno\n\n  function getDigits(n) {\n    if (n < 10) return 1\n    if (n < 100) return 2\n    if (n < 1000) return 3\n    if (n < 10000) return 4\n    // this works for up to 99,999 lines - any questions?\n    return 5\n  }\n\n  function pad(n, totalDigits) {\n    // not pretty, but simple and should perform quite well\n    var padDigits = totalDigits - getDigits(n)\n    switch (padDigits) {\n      case 0: return '' + n\n      case 1: return ' ' + n\n      case 2: return '  ' + n\n      case 3: return '   ' + n\n      case 4: return '    ' + n\n      case 5: return '     ' + n\n    }\n  }\n\n  totalDigits = getDigits(linesLen + firstline - 1)\n\n  for (var i = 0; i < linesLen; i++) {\n    // Don't close the escape sequence here in order to not break multi line code highlights like block comments\n    lineno = colorSurround(pad(i + firstline, totalDigits) + ': ').replace(surroundClose, '')\n    lines.push(lineno + highlightedLines[i])\n  }\n\n  return lines.join('\\n')\n}\n\nmodule.exports = function highlight(code, opts) {\n  opts = opts || { }\n  try {\n    var result = redeyed(code, opts.theme || theme, { jsx: !!opts.jsx })\n    var firstline = opts.firstline && !isNaN(opts.firstline) ? opts.firstline : 1\n\n    return opts.linenos ? addLinenos(result.code, firstline) : result.code\n  } catch (e) {\n    e.message = 'Unable to perform highlight. The code contained syntax errors: ' + e.message\n    throw e\n  }\n}\n"]},"metadata":{},"sourceType":"script"}