{"ast":null,"code":"'use strict';\n\nconst mimicFn = require('mimic-fn');\n\nmodule.exports = (fn, opts) => {\n  // TODO: Remove this in v3\n  if (opts === true) {\n    throw new TypeError('The second argument is now an options object');\n  }\n\n  if (typeof fn !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  opts = opts || {};\n  let ret;\n  let called = false;\n  const fnName = fn.displayName || fn.name || '<anonymous>';\n\n  const onetime = function () {\n    if (called) {\n      if (opts.throw === true) {\n        throw new Error(`Function \\`${fnName}\\` can only be called once`);\n      }\n\n      return ret;\n    }\n\n    called = true;\n    ret = fn.apply(this, arguments);\n    fn = null;\n    return ret;\n  };\n\n  mimicFn(onetime, fn);\n  return onetime;\n};","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/restore-cursor/node_modules/onetime/index.js"],"names":["mimicFn","require","module","exports","fn","opts","TypeError","ret","called","fnName","displayName","name","onetime","throw","Error","apply","arguments"],"mappings":"AAAA;;AACA,MAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,EAAD,EAAKC,IAAL,KAAc;AAC9B;AACA,MAAIA,IAAI,KAAK,IAAb,EAAmB;AAClB,UAAM,IAAIC,SAAJ,CAAc,8CAAd,CAAN;AACA;;AAED,MAAI,OAAOF,EAAP,KAAc,UAAlB,EAA8B;AAC7B,UAAM,IAAIE,SAAJ,CAAc,qBAAd,CAAN;AACA;;AAEDD,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AAEA,MAAIE,GAAJ;AACA,MAAIC,MAAM,GAAG,KAAb;AACA,QAAMC,MAAM,GAAGL,EAAE,CAACM,WAAH,IAAkBN,EAAE,CAACO,IAArB,IAA6B,aAA5C;;AAEA,QAAMC,OAAO,GAAG,YAAY;AAC3B,QAAIJ,MAAJ,EAAY;AACX,UAAIH,IAAI,CAACQ,KAAL,KAAe,IAAnB,EAAyB;AACxB,cAAM,IAAIC,KAAJ,CAAW,cAAaL,MAAO,4BAA/B,CAAN;AACA;;AAED,aAAOF,GAAP;AACA;;AAEDC,IAAAA,MAAM,GAAG,IAAT;AACAD,IAAAA,GAAG,GAAGH,EAAE,CAACW,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAN;AACAZ,IAAAA,EAAE,GAAG,IAAL;AAEA,WAAOG,GAAP;AACA,GAdD;;AAgBAP,EAAAA,OAAO,CAACY,OAAD,EAAUR,EAAV,CAAP;AAEA,SAAOQ,OAAP;AACA,CAnCD","sourcesContent":["'use strict';\nconst mimicFn = require('mimic-fn');\n\nmodule.exports = (fn, opts) => {\n\t// TODO: Remove this in v3\n\tif (opts === true) {\n\t\tthrow new TypeError('The second argument is now an options object');\n\t}\n\n\tif (typeof fn !== 'function') {\n\t\tthrow new TypeError('Expected a function');\n\t}\n\n\topts = opts || {};\n\n\tlet ret;\n\tlet called = false;\n\tconst fnName = fn.displayName || fn.name || '<anonymous>';\n\n\tconst onetime = function () {\n\t\tif (called) {\n\t\t\tif (opts.throw === true) {\n\t\t\t\tthrow new Error(`Function \\`${fnName}\\` can only be called once`);\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\tcalled = true;\n\t\tret = fn.apply(this, arguments);\n\t\tfn = null;\n\n\t\treturn ret;\n\t};\n\n\tmimicFn(onetime, fn);\n\n\treturn onetime;\n};\n"]},"metadata":{},"sourceType":"script"}