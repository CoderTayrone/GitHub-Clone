{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst clc = require(\"cli-color\");\n\nconst marked = require(\"marked\");\n\nconst TerminalRenderer = require(\"marked-terminal\");\n\nconst command_1 = require(\"../command\");\n\nconst extensionsHelper_1 = require(\"../extensions/extensionsHelper\");\n\nconst extensionsApi_1 = require(\"../extensions/extensionsApi\");\n\nconst localHelper_1 = require(\"../extensions/localHelper\");\n\nconst publishHelpers_1 = require(\"../extensions/publishHelpers\");\n\nconst requireAuth_1 = require(\"../requireAuth\");\n\nconst error_1 = require(\"../error\");\n\nconst utils = require(\"../utils\");\n\nmarked.setOptions({\n  renderer: new TerminalRenderer()\n});\nexports.default = new command_1.Command(\"ext:dev:publish <extensionRef>\").description(`publish a new version of an extension`).help(\"if you have not previously published a version of this extension, this will \" + \"create the extension. If you have previously published a version of this extension, this version must \" + \"be greater than previous versions.\").before(requireAuth_1.requireAuth).action(async extensionRef => {\n  const {\n    publisherId,\n    extensionId,\n    version\n  } = extensionsApi_1.parseRef(extensionRef);\n\n  if (version) {\n    throw new error_1.FirebaseError(`The input extension reference must be of the format ${clc.bold(\"<publisherId>/<extensionId>\")}. Version should not be supplied and will be inferred directly from extension.yaml. Please increment the version in extension.yaml if you would like to bump/specify a version.`);\n  }\n\n  if (!publisherId || !extensionId) {\n    throw new error_1.FirebaseError(`Error parsing publisher ID and extension ID from extension reference '${clc.bold(extensionRef)}'. Please use the format '${clc.bold(\"<publisherId>/<extensionId>\")}'.`);\n  }\n\n  const extensionYamlDirectory = localHelper_1.findExtensionYaml(process.cwd());\n  const res = await extensionsHelper_1.publishExtensionVersionFromLocalSource(publisherId, extensionId, extensionYamlDirectory);\n\n  if (res) {\n    utils.logLabeledBullet(extensionsHelper_1.logPrefix, marked(`[Install Link](${publishHelpers_1.consoleInstallLink(res.ref)})`));\n  }\n\n  return res;\n});","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/commands/ext-dev-publish.js"],"names":["Object","defineProperty","exports","value","clc","require","marked","TerminalRenderer","command_1","extensionsHelper_1","extensionsApi_1","localHelper_1","publishHelpers_1","requireAuth_1","error_1","utils","setOptions","renderer","default","Command","description","help","before","requireAuth","action","extensionRef","publisherId","extensionId","version","parseRef","FirebaseError","bold","extensionYamlDirectory","findExtensionYaml","process","cwd","res","publishExtensionVersionFromLocalSource","logLabeledBullet","logPrefix","consoleInstallLink","ref"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAAC,WAAD,CAAnB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,iBAAD,CAAhC;;AACA,MAAMG,SAAS,GAAGH,OAAO,CAAC,YAAD,CAAzB;;AACA,MAAMI,kBAAkB,GAAGJ,OAAO,CAAC,gCAAD,CAAlC;;AACA,MAAMK,eAAe,GAAGL,OAAO,CAAC,6BAAD,CAA/B;;AACA,MAAMM,aAAa,GAAGN,OAAO,CAAC,2BAAD,CAA7B;;AACA,MAAMO,gBAAgB,GAAGP,OAAO,CAAC,8BAAD,CAAhC;;AACA,MAAMQ,aAAa,GAAGR,OAAO,CAAC,gBAAD,CAA7B;;AACA,MAAMS,OAAO,GAAGT,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMU,KAAK,GAAGV,OAAO,CAAC,UAAD,CAArB;;AACAC,MAAM,CAACU,UAAP,CAAkB;AACdC,EAAAA,QAAQ,EAAE,IAAIV,gBAAJ;AADI,CAAlB;AAGAL,OAAO,CAACgB,OAAR,GAAkB,IAAIV,SAAS,CAACW,OAAd,CAAsB,gCAAtB,EACbC,WADa,CACA,uCADA,EAEbC,IAFa,CAER,iFACN,wGADM,GAEN,oCAJc,EAKbC,MALa,CAKNT,aAAa,CAACU,WALR,EAMbC,MANa,CAMN,MAAOC,YAAP,IAAwB;AAChC,QAAM;AAAEC,IAAAA,WAAF;AAAeC,IAAAA,WAAf;AAA4BC,IAAAA;AAA5B,MAAwClB,eAAe,CAACmB,QAAhB,CAAyBJ,YAAzB,CAA9C;;AACA,MAAIG,OAAJ,EAAa;AACT,UAAM,IAAId,OAAO,CAACgB,aAAZ,CAA2B,uDAAsD1B,GAAG,CAAC2B,IAAJ,CAAS,6BAAT,CAAwC,iLAAzH,CAAN;AACH;;AACD,MAAI,CAACL,WAAD,IAAgB,CAACC,WAArB,EAAkC;AAC9B,UAAM,IAAIb,OAAO,CAACgB,aAAZ,CAA2B,yEAAwE1B,GAAG,CAAC2B,IAAJ,CAASN,YAAT,CAAuB,6BAA4BrB,GAAG,CAAC2B,IAAJ,CAAS,6BAAT,CAAwC,IAA9L,CAAN;AACH;;AACD,QAAMC,sBAAsB,GAAGrB,aAAa,CAACsB,iBAAd,CAAgCC,OAAO,CAACC,GAAR,EAAhC,CAA/B;AACA,QAAMC,GAAG,GAAG,MAAM3B,kBAAkB,CAAC4B,sCAAnB,CAA0DX,WAA1D,EAAuEC,WAAvE,EAAoFK,sBAApF,CAAlB;;AACA,MAAII,GAAJ,EAAS;AACLrB,IAAAA,KAAK,CAACuB,gBAAN,CAAuB7B,kBAAkB,CAAC8B,SAA1C,EAAqDjC,MAAM,CAAE,kBAAiBM,gBAAgB,CAAC4B,kBAAjB,CAAoCJ,GAAG,CAACK,GAAxC,CAA6C,GAAhE,CAA3D;AACH;;AACD,SAAOL,GAAP;AACH,CApBiB,CAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst clc = require(\"cli-color\");\nconst marked = require(\"marked\");\nconst TerminalRenderer = require(\"marked-terminal\");\nconst command_1 = require(\"../command\");\nconst extensionsHelper_1 = require(\"../extensions/extensionsHelper\");\nconst extensionsApi_1 = require(\"../extensions/extensionsApi\");\nconst localHelper_1 = require(\"../extensions/localHelper\");\nconst publishHelpers_1 = require(\"../extensions/publishHelpers\");\nconst requireAuth_1 = require(\"../requireAuth\");\nconst error_1 = require(\"../error\");\nconst utils = require(\"../utils\");\nmarked.setOptions({\n    renderer: new TerminalRenderer(),\n});\nexports.default = new command_1.Command(\"ext:dev:publish <extensionRef>\")\n    .description(`publish a new version of an extension`)\n    .help(\"if you have not previously published a version of this extension, this will \" +\n    \"create the extension. If you have previously published a version of this extension, this version must \" +\n    \"be greater than previous versions.\")\n    .before(requireAuth_1.requireAuth)\n    .action(async (extensionRef) => {\n    const { publisherId, extensionId, version } = extensionsApi_1.parseRef(extensionRef);\n    if (version) {\n        throw new error_1.FirebaseError(`The input extension reference must be of the format ${clc.bold(\"<publisherId>/<extensionId>\")}. Version should not be supplied and will be inferred directly from extension.yaml. Please increment the version in extension.yaml if you would like to bump/specify a version.`);\n    }\n    if (!publisherId || !extensionId) {\n        throw new error_1.FirebaseError(`Error parsing publisher ID and extension ID from extension reference '${clc.bold(extensionRef)}'. Please use the format '${clc.bold(\"<publisherId>/<extensionId>\")}'.`);\n    }\n    const extensionYamlDirectory = localHelper_1.findExtensionYaml(process.cwd());\n    const res = await extensionsHelper_1.publishExtensionVersionFromLocalSource(publisherId, extensionId, extensionYamlDirectory);\n    if (res) {\n        utils.logLabeledBullet(extensionsHelper_1.logPrefix, marked(`[Install Link](${publishHelpers_1.consoleInstallLink(res.ref)})`));\n    }\n    return res;\n});\n"]},"metadata":{},"sourceType":"script"}