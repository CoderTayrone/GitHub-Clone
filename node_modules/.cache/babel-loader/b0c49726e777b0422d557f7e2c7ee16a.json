{"ast":null,"code":"var Stream = require('stream');\n\nmodule.exports = MuteStream; // var out = new MuteStream(process.stdout)\n// argument auto-pipes\n\nfunction MuteStream(opts) {\n  Stream.apply(this);\n  opts = opts || {};\n  this.writable = this.readable = true;\n  this.muted = false;\n  this.on('pipe', this._onpipe);\n  this.replace = opts.replace; // For readline-type situations\n  // This much at the start of a line being redrawn after a ctrl char\n  // is seen (such as backspace) won't be redrawn as the replacement\n\n  this._prompt = opts.prompt || null;\n  this._hadControl = false;\n}\n\nMuteStream.prototype = Object.create(Stream.prototype);\nObject.defineProperty(MuteStream.prototype, 'constructor', {\n  value: MuteStream,\n  enumerable: false\n});\n\nMuteStream.prototype.mute = function () {\n  this.muted = true;\n};\n\nMuteStream.prototype.unmute = function () {\n  this.muted = false;\n};\n\nObject.defineProperty(MuteStream.prototype, '_onpipe', {\n  value: onPipe,\n  enumerable: false,\n  writable: true,\n  configurable: true\n});\n\nfunction onPipe(src) {\n  this._src = src;\n}\n\nObject.defineProperty(MuteStream.prototype, 'isTTY', {\n  get: getIsTTY,\n  set: setIsTTY,\n  enumerable: true,\n  configurable: true\n});\n\nfunction getIsTTY() {\n  return this._dest ? this._dest.isTTY : this._src ? this._src.isTTY : false;\n} // basically just get replace the getter/setter with a regular value\n\n\nfunction setIsTTY(isTTY) {\n  Object.defineProperty(this, 'isTTY', {\n    value: isTTY,\n    enumerable: true,\n    writable: true,\n    configurable: true\n  });\n}\n\nObject.defineProperty(MuteStream.prototype, 'rows', {\n  get: function () {\n    return this._dest ? this._dest.rows : this._src ? this._src.rows : undefined;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(MuteStream.prototype, 'columns', {\n  get: function () {\n    return this._dest ? this._dest.columns : this._src ? this._src.columns : undefined;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nMuteStream.prototype.pipe = function (dest, options) {\n  this._dest = dest;\n  return Stream.prototype.pipe.call(this, dest, options);\n};\n\nMuteStream.prototype.pause = function () {\n  if (this._src) return this._src.pause();\n};\n\nMuteStream.prototype.resume = function () {\n  if (this._src) return this._src.resume();\n};\n\nMuteStream.prototype.write = function (c) {\n  if (this.muted) {\n    if (!this.replace) return true;\n\n    if (c.match(/^\\u001b/)) {\n      if (c.indexOf(this._prompt) === 0) {\n        c = c.substr(this._prompt.length);\n        c = c.replace(/./g, this.replace);\n        c = this._prompt + c;\n      }\n\n      this._hadControl = true;\n      return this.emit('data', c);\n    } else {\n      if (this._prompt && this._hadControl && c.indexOf(this._prompt) === 0) {\n        this._hadControl = false;\n        this.emit('data', this._prompt);\n        c = c.substr(this._prompt.length);\n      }\n\n      c = c.toString().replace(/./g, this.replace);\n    }\n  }\n\n  this.emit('data', c);\n};\n\nMuteStream.prototype.end = function (c) {\n  if (this.muted) {\n    if (c && this.replace) {\n      c = c.toString().replace(/./g, this.replace);\n    } else {\n      c = null;\n    }\n  }\n\n  if (c) this.emit('data', c);\n  this.emit('end');\n};\n\nfunction proxy(fn) {\n  return function () {\n    var d = this._dest;\n    var s = this._src;\n    if (d && d[fn]) d[fn].apply(d, arguments);\n    if (s && s[fn]) s[fn].apply(s, arguments);\n  };\n}\n\nMuteStream.prototype.destroy = proxy('destroy');\nMuteStream.prototype.destroySoon = proxy('destroySoon');\nMuteStream.prototype.close = proxy('close');","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/mute-stream/mute.js"],"names":["Stream","require","module","exports","MuteStream","opts","apply","writable","readable","muted","on","_onpipe","replace","_prompt","prompt","_hadControl","prototype","Object","create","defineProperty","value","enumerable","mute","unmute","onPipe","configurable","src","_src","get","getIsTTY","set","setIsTTY","_dest","isTTY","rows","undefined","columns","pipe","dest","options","call","pause","resume","write","c","match","indexOf","substr","length","emit","toString","end","proxy","fn","d","s","arguments","destroy","destroySoon","close"],"mappings":"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","sourcesContent":["var Stream = require('stream')\n\nmodule.exports = MuteStream\n\n// var out = new MuteStream(process.stdout)\n// argument auto-pipes\nfunction MuteStream (opts) {\n  Stream.apply(this)\n  opts = opts || {}\n  this.writable = this.readable = true\n  this.muted = false\n  this.on('pipe', this._onpipe)\n  this.replace = opts.replace\n\n  // For readline-type situations\n  // This much at the start of a line being redrawn after a ctrl char\n  // is seen (such as backspace) won't be redrawn as the replacement\n  this._prompt = opts.prompt || null\n  this._hadControl = false\n}\n\nMuteStream.prototype = Object.create(Stream.prototype)\n\nObject.defineProperty(MuteStream.prototype, 'constructor', {\n  value: MuteStream,\n  enumerable: false\n})\n\nMuteStream.prototype.mute = function () {\n  this.muted = true\n}\n\nMuteStream.prototype.unmute = function () {\n  this.muted = false\n}\n\nObject.defineProperty(MuteStream.prototype, '_onpipe', {\n  value: onPipe,\n  enumerable: false,\n  writable: true,\n  configurable: true\n})\n\nfunction onPipe (src) {\n  this._src = src\n}\n\nObject.defineProperty(MuteStream.prototype, 'isTTY', {\n  get: getIsTTY,\n  set: setIsTTY,\n  enumerable: true,\n  configurable: true\n})\n\nfunction getIsTTY () {\n  return( (this._dest) ? this._dest.isTTY\n        : (this._src) ? this._src.isTTY\n        : false\n        )\n}\n\n// basically just get replace the getter/setter with a regular value\nfunction setIsTTY (isTTY) {\n  Object.defineProperty(this, 'isTTY', {\n    value: isTTY,\n    enumerable: true,\n    writable: true,\n    configurable: true\n  })\n}\n\nObject.defineProperty(MuteStream.prototype, 'rows', {\n  get: function () {\n    return( this._dest ? this._dest.rows\n          : this._src ? this._src.rows\n          : undefined )\n  }, enumerable: true, configurable: true })\n\nObject.defineProperty(MuteStream.prototype, 'columns', {\n  get: function () {\n    return( this._dest ? this._dest.columns\n          : this._src ? this._src.columns\n          : undefined )\n  }, enumerable: true, configurable: true })\n\n\nMuteStream.prototype.pipe = function (dest, options) {\n  this._dest = dest\n  return Stream.prototype.pipe.call(this, dest, options)\n}\n\nMuteStream.prototype.pause = function () {\n  if (this._src) return this._src.pause()\n}\n\nMuteStream.prototype.resume = function () {\n  if (this._src) return this._src.resume()\n}\n\nMuteStream.prototype.write = function (c) {\n  if (this.muted) {\n    if (!this.replace) return true\n    if (c.match(/^\\u001b/)) {\n      if(c.indexOf(this._prompt) === 0) {\n        c = c.substr(this._prompt.length);\n        c = c.replace(/./g, this.replace);\n        c = this._prompt + c;\n      }\n      this._hadControl = true\n      return this.emit('data', c)\n    } else {\n      if (this._prompt && this._hadControl &&\n          c.indexOf(this._prompt) === 0) {\n        this._hadControl = false\n        this.emit('data', this._prompt)\n        c = c.substr(this._prompt.length)\n      }\n      c = c.toString().replace(/./g, this.replace)\n    }\n  }\n  this.emit('data', c)\n}\n\nMuteStream.prototype.end = function (c) {\n  if (this.muted) {\n    if (c && this.replace) {\n      c = c.toString().replace(/./g, this.replace)\n    } else {\n      c = null\n    }\n  }\n  if (c) this.emit('data', c)\n  this.emit('end')\n}\n\nfunction proxy (fn) { return function () {\n  var d = this._dest\n  var s = this._src\n  if (d && d[fn]) d[fn].apply(d, arguments)\n  if (s && s[fn]) s[fn].apply(s, arguments)\n}}\n\nMuteStream.prototype.destroy = proxy('destroy')\nMuteStream.prototype.destroySoon = proxy('destroySoon')\nMuteStream.prototype.close = proxy('close')\n"]},"metadata":{},"sourceType":"script"}