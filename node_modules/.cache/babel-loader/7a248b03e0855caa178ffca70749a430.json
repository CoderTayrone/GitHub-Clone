{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DeploymentTimer = void 0;\n\nconst logger_1 = require(\"../../logger\");\n\nconst track = require(\"../../track\");\n\nclass DeploymentTimer {\n  constructor() {\n    this.timings = {};\n  }\n\n  startTimer(name, type) {\n    this.timings[name] = {\n      type: type,\n      t0: process.hrtime()\n    };\n  }\n\n  endTimer(name) {\n    if (!this.timings[name]) {\n      logger_1.logger.debug(\"[functions] no timer initialized for\", name);\n      return 0;\n    }\n\n    const duration = process.hrtime(this.timings[name].t0);\n    track(\"Functions Deploy (Duration)\", this.timings[name].type, duration[0] * 1000 + Math.round(duration[1] * 1e-6));\n    return duration[0] * 1000 * Math.round(duration[1] * 1e-6);\n  }\n\n}\n\nexports.DeploymentTimer = DeploymentTimer;","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/deploy/functions/deploymentTimer.js"],"names":["Object","defineProperty","exports","value","DeploymentTimer","logger_1","require","track","constructor","timings","startTimer","name","type","t0","process","hrtime","endTimer","logger","debug","duration","Math","round"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0B,KAAK,CAA/B;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,cAAD,CAAxB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,aAAD,CAArB;;AACA,MAAMF,eAAN,CAAsB;AAClBI,EAAAA,WAAW,GAAG;AACV,SAAKC,OAAL,GAAe,EAAf;AACH;;AACDC,EAAAA,UAAU,CAACC,IAAD,EAAOC,IAAP,EAAa;AACnB,SAAKH,OAAL,CAAaE,IAAb,IAAqB;AAAEC,MAAAA,IAAI,EAAEA,IAAR;AAAcC,MAAAA,EAAE,EAAEC,OAAO,CAACC,MAAR;AAAlB,KAArB;AACH;;AACDC,EAAAA,QAAQ,CAACL,IAAD,EAAO;AACX,QAAI,CAAC,KAAKF,OAAL,CAAaE,IAAb,CAAL,EAAyB;AACrBN,MAAAA,QAAQ,CAACY,MAAT,CAAgBC,KAAhB,CAAsB,sCAAtB,EAA8DP,IAA9D;AACA,aAAO,CAAP;AACH;;AACD,UAAMQ,QAAQ,GAAGL,OAAO,CAACC,MAAR,CAAe,KAAKN,OAAL,CAAaE,IAAb,EAAmBE,EAAlC,CAAjB;AACAN,IAAAA,KAAK,CAAC,6BAAD,EAAgC,KAAKE,OAAL,CAAaE,IAAb,EAAmBC,IAAnD,EAAyDO,QAAQ,CAAC,CAAD,CAAR,GAAc,IAAd,GAAqBC,IAAI,CAACC,KAAL,CAAWF,QAAQ,CAAC,CAAD,CAAR,GAAc,IAAzB,CAA9E,CAAL;AACA,WAAOA,QAAQ,CAAC,CAAD,CAAR,GAAc,IAAd,GAAqBC,IAAI,CAACC,KAAL,CAAWF,QAAQ,CAAC,CAAD,CAAR,GAAc,IAAzB,CAA5B;AACH;;AAfiB;;AAiBtBjB,OAAO,CAACE,eAAR,GAA0BA,eAA1B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeploymentTimer = void 0;\nconst logger_1 = require(\"../../logger\");\nconst track = require(\"../../track\");\nclass DeploymentTimer {\n    constructor() {\n        this.timings = {};\n    }\n    startTimer(name, type) {\n        this.timings[name] = { type: type, t0: process.hrtime() };\n    }\n    endTimer(name) {\n        if (!this.timings[name]) {\n            logger_1.logger.debug(\"[functions] no timer initialized for\", name);\n            return 0;\n        }\n        const duration = process.hrtime(this.timings[name].t0);\n        track(\"Functions Deploy (Duration)\", this.timings[name].type, duration[0] * 1000 + Math.round(duration[1] * 1e-6));\n        return duration[0] * 1000 * Math.round(duration[1] * 1e-6);\n    }\n}\nexports.DeploymentTimer = DeploymentTimer;\n"]},"metadata":{},"sourceType":"script"}