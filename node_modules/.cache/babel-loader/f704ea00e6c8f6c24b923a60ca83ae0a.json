{"ast":null,"code":"module.exports = Buffers;\n\nfunction Buffers(bufs) {\n  if (!(this instanceof Buffers)) return new Buffers(bufs);\n  this.buffers = bufs || [];\n  this.length = this.buffers.reduce(function (size, buf) {\n    return size + buf.length;\n  }, 0);\n}\n\nBuffers.prototype.push = function () {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!Buffer.isBuffer(arguments[i])) {\n      throw new TypeError('Tried to push a non-buffer');\n    }\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var buf = arguments[i];\n    this.buffers.push(buf);\n    this.length += buf.length;\n  }\n\n  return this.length;\n};\n\nBuffers.prototype.unshift = function () {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!Buffer.isBuffer(arguments[i])) {\n      throw new TypeError('Tried to unshift a non-buffer');\n    }\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var buf = arguments[i];\n    this.buffers.unshift(buf);\n    this.length += buf.length;\n  }\n\n  return this.length;\n};\n\nBuffers.prototype.copy = function (dst, dStart, start, end) {\n  return this.slice(start, end).copy(dst, dStart, 0, end - start);\n};\n\nBuffers.prototype.splice = function (i, howMany) {\n  var buffers = this.buffers;\n  var index = i >= 0 ? i : this.length - i;\n  var reps = [].slice.call(arguments, 2);\n\n  if (howMany === undefined) {\n    howMany = this.length - index;\n  } else if (howMany > this.length - index) {\n    howMany = this.length - index;\n  }\n\n  for (var i = 0; i < reps.length; i++) {\n    this.length += reps[i].length;\n  }\n\n  var removed = new Buffers();\n  var bytes = 0;\n  var startBytes = 0;\n\n  for (var ii = 0; ii < buffers.length && startBytes + buffers[ii].length < index; ii++) {\n    startBytes += buffers[ii].length;\n  }\n\n  if (index - startBytes > 0) {\n    var start = index - startBytes;\n\n    if (start + howMany < buffers[ii].length) {\n      removed.push(buffers[ii].slice(start, start + howMany));\n      var orig = buffers[ii]; //var buf = new Buffer(orig.length - howMany);\n\n      var buf0 = new Buffer(start);\n\n      for (var i = 0; i < start; i++) {\n        buf0[i] = orig[i];\n      }\n\n      var buf1 = new Buffer(orig.length - start - howMany);\n\n      for (var i = start + howMany; i < orig.length; i++) {\n        buf1[i - howMany - start] = orig[i];\n      }\n\n      if (reps.length > 0) {\n        var reps_ = reps.slice();\n        reps_.unshift(buf0);\n        reps_.push(buf1);\n        buffers.splice.apply(buffers, [ii, 1].concat(reps_));\n        ii += reps_.length;\n        reps = [];\n      } else {\n        buffers.splice(ii, 1, buf0, buf1); //buffers[ii] = buf;\n\n        ii += 2;\n      }\n    } else {\n      removed.push(buffers[ii].slice(start));\n      buffers[ii] = buffers[ii].slice(0, start);\n      ii++;\n    }\n  }\n\n  if (reps.length > 0) {\n    buffers.splice.apply(buffers, [ii, 0].concat(reps));\n    ii += reps.length;\n  }\n\n  while (removed.length < howMany) {\n    var buf = buffers[ii];\n    var len = buf.length;\n    var take = Math.min(len, howMany - removed.length);\n\n    if (take === len) {\n      removed.push(buf);\n      buffers.splice(ii, 1);\n    } else {\n      removed.push(buf.slice(0, take));\n      buffers[ii] = buffers[ii].slice(take);\n    }\n  }\n\n  this.length -= removed.length;\n  return removed;\n};\n\nBuffers.prototype.slice = function (i, j) {\n  var buffers = this.buffers;\n  if (j === undefined) j = this.length;\n  if (i === undefined) i = 0;\n  if (j > this.length) j = this.length;\n  var startBytes = 0;\n\n  for (var si = 0; si < buffers.length && startBytes + buffers[si].length <= i; si++) {\n    startBytes += buffers[si].length;\n  }\n\n  var target = new Buffer(j - i);\n  var ti = 0;\n\n  for (var ii = si; ti < j - i && ii < buffers.length; ii++) {\n    var len = buffers[ii].length;\n    var start = ti === 0 ? i - startBytes : 0;\n    var end = ti + len >= j - i ? Math.min(start + (j - i) - ti, len) : len;\n    buffers[ii].copy(target, ti, start, end);\n    ti += end - start;\n  }\n\n  return target;\n};\n\nBuffers.prototype.pos = function (i) {\n  if (i < 0 || i >= this.length) throw new Error('oob');\n  var l = i,\n      bi = 0,\n      bu = null;\n\n  for (;;) {\n    bu = this.buffers[bi];\n\n    if (l < bu.length) {\n      return {\n        buf: bi,\n        offset: l\n      };\n    } else {\n      l -= bu.length;\n    }\n\n    bi++;\n  }\n};\n\nBuffers.prototype.get = function get(i) {\n  var pos = this.pos(i);\n  return this.buffers[pos.buf].get(pos.offset);\n};\n\nBuffers.prototype.set = function set(i, b) {\n  var pos = this.pos(i);\n  return this.buffers[pos.buf].set(pos.offset, b);\n};\n\nBuffers.prototype.indexOf = function (needle, offset) {\n  if (\"string\" === typeof needle) {\n    needle = new Buffer(needle);\n  } else if (needle instanceof Buffer) {// already a buffer\n  } else {\n    throw new Error('Invalid type for a search string');\n  }\n\n  if (!needle.length) {\n    return 0;\n  }\n\n  if (!this.length) {\n    return -1;\n  }\n\n  var i = 0,\n      j = 0,\n      match = 0,\n      mstart,\n      pos = 0; // start search from a particular point in the virtual buffer\n\n  if (offset) {\n    var p = this.pos(offset);\n    i = p.buf;\n    j = p.offset;\n    pos = offset;\n  } // for each character in virtual buffer\n\n\n  for (;;) {\n    while (j >= this.buffers[i].length) {\n      j = 0;\n      i++;\n\n      if (i >= this.buffers.length) {\n        // search string not found\n        return -1;\n      }\n    }\n\n    var char = this.buffers[i][j];\n\n    if (char == needle[match]) {\n      // keep track where match started\n      if (match == 0) {\n        mstart = {\n          i: i,\n          j: j,\n          pos: pos\n        };\n      }\n\n      match++;\n\n      if (match == needle.length) {\n        // full match\n        return mstart.pos;\n      }\n    } else if (match != 0) {\n      // a partial match ended, go back to match starting position\n      // this will continue the search at the next character\n      i = mstart.i;\n      j = mstart.j;\n      pos = mstart.pos;\n      match = 0;\n    }\n\n    j++;\n    pos++;\n  }\n};\n\nBuffers.prototype.toBuffer = function () {\n  return this.slice();\n};\n\nBuffers.prototype.toString = function (encoding, start, end) {\n  return this.slice(start, end).toString(encoding);\n};","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/buffers/index.js"],"names":["module","exports","Buffers","bufs","buffers","length","reduce","size","buf","prototype","push","i","arguments","Buffer","isBuffer","TypeError","unshift","copy","dst","dStart","start","end","slice","splice","howMany","index","reps","call","undefined","removed","bytes","startBytes","ii","orig","buf0","buf1","reps_","apply","concat","len","take","Math","min","j","si","target","ti","pos","Error","l","bi","bu","offset","get","set","b","indexOf","needle","match","mstart","p","char","toBuffer","toString","encoding"],"mappings":"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","sourcesContent":["module.exports = Buffers;\n\nfunction Buffers (bufs) {\n    if (!(this instanceof Buffers)) return new Buffers(bufs);\n    this.buffers = bufs || [];\n    this.length = this.buffers.reduce(function (size, buf) {\n        return size + buf.length\n    }, 0);\n}\n\nBuffers.prototype.push = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (!Buffer.isBuffer(arguments[i])) {\n            throw new TypeError('Tried to push a non-buffer');\n        }\n    }\n    \n    for (var i = 0; i < arguments.length; i++) {\n        var buf = arguments[i];\n        this.buffers.push(buf);\n        this.length += buf.length;\n    }\n    return this.length;\n};\n\nBuffers.prototype.unshift = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (!Buffer.isBuffer(arguments[i])) {\n            throw new TypeError('Tried to unshift a non-buffer');\n        }\n    }\n    \n    for (var i = 0; i < arguments.length; i++) {\n        var buf = arguments[i];\n        this.buffers.unshift(buf);\n        this.length += buf.length;\n    }\n    return this.length;\n};\n\nBuffers.prototype.copy = function (dst, dStart, start, end) {\n    return this.slice(start, end).copy(dst, dStart, 0, end - start);\n};\n\nBuffers.prototype.splice = function (i, howMany) {\n    var buffers = this.buffers;\n    var index = i >= 0 ? i : this.length - i;\n    var reps = [].slice.call(arguments, 2);\n    \n    if (howMany === undefined) {\n        howMany = this.length - index;\n    }\n    else if (howMany > this.length - index) {\n        howMany = this.length - index;\n    }\n    \n    for (var i = 0; i < reps.length; i++) {\n        this.length += reps[i].length;\n    }\n    \n    var removed = new Buffers();\n    var bytes = 0;\n    \n    var startBytes = 0;\n    for (\n        var ii = 0;\n        ii < buffers.length && startBytes + buffers[ii].length < index;\n        ii ++\n    ) { startBytes += buffers[ii].length }\n    \n    if (index - startBytes > 0) {\n        var start = index - startBytes;\n        \n        if (start + howMany < buffers[ii].length) {\n            removed.push(buffers[ii].slice(start, start + howMany));\n            \n            var orig = buffers[ii];\n            //var buf = new Buffer(orig.length - howMany);\n            var buf0 = new Buffer(start);\n            for (var i = 0; i < start; i++) {\n                buf0[i] = orig[i];\n            }\n            \n            var buf1 = new Buffer(orig.length - start - howMany);\n            for (var i = start + howMany; i < orig.length; i++) {\n                buf1[ i - howMany - start ] = orig[i]\n            }\n            \n            if (reps.length > 0) {\n                var reps_ = reps.slice();\n                reps_.unshift(buf0);\n                reps_.push(buf1);\n                buffers.splice.apply(buffers, [ ii, 1 ].concat(reps_));\n                ii += reps_.length;\n                reps = [];\n            }\n            else {\n                buffers.splice(ii, 1, buf0, buf1);\n                //buffers[ii] = buf;\n                ii += 2;\n            }\n        }\n        else {\n            removed.push(buffers[ii].slice(start));\n            buffers[ii] = buffers[ii].slice(0, start);\n            ii ++;\n        }\n    }\n    \n    if (reps.length > 0) {\n        buffers.splice.apply(buffers, [ ii, 0 ].concat(reps));\n        ii += reps.length;\n    }\n    \n    while (removed.length < howMany) {\n        var buf = buffers[ii];\n        var len = buf.length;\n        var take = Math.min(len, howMany - removed.length);\n        \n        if (take === len) {\n            removed.push(buf);\n            buffers.splice(ii, 1);\n        }\n        else {\n            removed.push(buf.slice(0, take));\n            buffers[ii] = buffers[ii].slice(take);\n        }\n    }\n    \n    this.length -= removed.length;\n    \n    return removed;\n};\n \nBuffers.prototype.slice = function (i, j) {\n    var buffers = this.buffers;\n    if (j === undefined) j = this.length;\n    if (i === undefined) i = 0;\n    \n    if (j > this.length) j = this.length;\n    \n    var startBytes = 0;\n    for (\n        var si = 0;\n        si < buffers.length && startBytes + buffers[si].length <= i;\n        si ++\n    ) { startBytes += buffers[si].length }\n    \n    var target = new Buffer(j - i);\n    \n    var ti = 0;\n    for (var ii = si; ti < j - i && ii < buffers.length; ii++) {\n        var len = buffers[ii].length;\n        \n        var start = ti === 0 ? i - startBytes : 0;\n        var end = ti + len >= j - i\n            ? Math.min(start + (j - i) - ti, len)\n            : len\n        ;\n        \n        buffers[ii].copy(target, ti, start, end);\n        ti += end - start;\n    }\n    \n    return target;\n};\n\nBuffers.prototype.pos = function (i) {\n    if (i < 0 || i >= this.length) throw new Error('oob');\n    var l = i, bi = 0, bu = null;\n    for (;;) {\n        bu = this.buffers[bi];\n        if (l < bu.length) {\n            return {buf: bi, offset: l};\n        } else {\n            l -= bu.length;\n        }\n        bi++;\n    }\n};\n\nBuffers.prototype.get = function get (i) {\n    var pos = this.pos(i);\n\n    return this.buffers[pos.buf].get(pos.offset);\n};\n\nBuffers.prototype.set = function set (i, b) {\n    var pos = this.pos(i);\n\n    return this.buffers[pos.buf].set(pos.offset, b);\n};\n\nBuffers.prototype.indexOf = function (needle, offset) {\n    if (\"string\" === typeof needle) {\n        needle = new Buffer(needle);\n    } else if (needle instanceof Buffer) {\n        // already a buffer\n    } else {\n        throw new Error('Invalid type for a search string');\n    }\n\n    if (!needle.length) {\n        return 0;\n    }\n\n    if (!this.length) {\n        return -1;\n    }\n\n    var i = 0, j = 0, match = 0, mstart, pos = 0;\n\n    // start search from a particular point in the virtual buffer\n    if (offset) {\n        var p = this.pos(offset);\n        i = p.buf;\n        j = p.offset;\n        pos = offset;\n    }\n\n    // for each character in virtual buffer\n    for (;;) {\n        while (j >= this.buffers[i].length) {\n            j = 0;\n            i++;\n\n            if (i >= this.buffers.length) {\n                // search string not found\n                return -1;\n            }\n        }\n\n        var char = this.buffers[i][j];\n\n        if (char == needle[match]) {\n            // keep track where match started\n            if (match == 0) {\n                mstart = {\n                    i: i,\n                    j: j,\n                    pos: pos\n                };\n            }\n            match++;\n            if (match == needle.length) {\n                // full match\n                return mstart.pos;\n            }\n        } else if (match != 0) {\n            // a partial match ended, go back to match starting position\n            // this will continue the search at the next character\n            i = mstart.i;\n            j = mstart.j;\n            pos = mstart.pos;\n            match = 0;\n        }\n\n        j++;\n        pos++;\n    }\n};\n\nBuffers.prototype.toBuffer = function() {\n    return this.slice();\n}\n\nBuffers.prototype.toString = function(encoding, start, end) {\n    return this.slice(start, end).toString(encoding);\n}\n"]},"metadata":{},"sourceType":"script"}