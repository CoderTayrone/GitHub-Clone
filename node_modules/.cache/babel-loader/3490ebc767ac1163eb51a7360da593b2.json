{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Stack = void 0;\n\nconst throttler_1 = require(\"./throttler\");\n\nclass Stack extends throttler_1.Throttler {\n  constructor(options) {\n    super(options);\n    this.lastTotal = 0;\n    this.stack = [];\n    this.name = this.name || \"stack\";\n  }\n\n  hasWaitingTask() {\n    return this.lastTotal !== this.total || this.stack.length > 0;\n  }\n\n  nextWaitingTaskIndex() {\n    while (this.lastTotal < this.total) {\n      this.stack.push(this.lastTotal);\n      this.lastTotal++;\n    }\n\n    const next = this.stack.pop();\n\n    if (next === undefined) {\n      throw new Error(\"There is no more task in stack\");\n    }\n\n    return next;\n  }\n\n}\n\nexports.Stack = Stack;\nexports.default = Stack;","map":{"version":3,"sources":["/home/dev/Documentos/Projects/github-clone/node_modules/firebase-tools/lib/throttler/stack.js"],"names":["Object","defineProperty","exports","value","Stack","throttler_1","require","Throttler","constructor","options","lastTotal","stack","name","hasWaitingTask","total","length","nextWaitingTaskIndex","push","next","pop","undefined","Error","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,KAAR,GAAgB,KAAK,CAArB;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMF,KAAN,SAAoBC,WAAW,CAACE,SAAhC,CAA0C;AACtCC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACjB,UAAMA,OAAN;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,IAAa,OAAzB;AACH;;AACDC,EAAAA,cAAc,GAAG;AACb,WAAO,KAAKH,SAAL,KAAmB,KAAKI,KAAxB,IAAiC,KAAKH,KAAL,CAAWI,MAAX,GAAoB,CAA5D;AACH;;AACDC,EAAAA,oBAAoB,GAAG;AACnB,WAAO,KAAKN,SAAL,GAAiB,KAAKI,KAA7B,EAAoC;AAChC,WAAKH,KAAL,CAAWM,IAAX,CAAgB,KAAKP,SAArB;AACA,WAAKA,SAAL;AACH;;AACD,UAAMQ,IAAI,GAAG,KAAKP,KAAL,CAAWQ,GAAX,EAAb;;AACA,QAAID,IAAI,KAAKE,SAAb,EAAwB;AACpB,YAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;AACH;;AACD,WAAOH,IAAP;AACH;;AApBqC;;AAsB1ChB,OAAO,CAACE,KAAR,GAAgBA,KAAhB;AACAF,OAAO,CAACoB,OAAR,GAAkBlB,KAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stack = void 0;\nconst throttler_1 = require(\"./throttler\");\nclass Stack extends throttler_1.Throttler {\n    constructor(options) {\n        super(options);\n        this.lastTotal = 0;\n        this.stack = [];\n        this.name = this.name || \"stack\";\n    }\n    hasWaitingTask() {\n        return this.lastTotal !== this.total || this.stack.length > 0;\n    }\n    nextWaitingTaskIndex() {\n        while (this.lastTotal < this.total) {\n            this.stack.push(this.lastTotal);\n            this.lastTotal++;\n        }\n        const next = this.stack.pop();\n        if (next === undefined) {\n            throw new Error(\"There is no more task in stack\");\n        }\n        return next;\n    }\n}\nexports.Stack = Stack;\nexports.default = Stack;\n"]},"metadata":{},"sourceType":"script"}